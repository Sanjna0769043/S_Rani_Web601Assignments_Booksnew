"use strict";(self.webpackChunks_rani_my_favourite_books=self.webpackChunks_rani_my_favourite_books||[]).push([[454],{454:(w,h,s)=>{s.r(h),s.d(h,{ContentListModule:()=>E});var u=s(9808),g=s(9118),i=s(2382),t=s(4893),T=s(3823),_=s(2684),d=s(4106),C=s(7531),p=s(7423),l=s(8966),Z=s(4102),v=s(508);let A=(()=>{class n{constructor(e,o){this.formBuilder=e,this.dialogRef=o,this.buildContentForm()}ngOnInit(){}buildContentForm(){this.contentForm=this.formBuilder.group({title:["",i.kI.required],description:["",i.kI.required],prize:["",i.kI.required],imgURL:["",i.kI.required],type:["",i.kI.required],tags:["",i.kI.required]})}addContent(e){let o={title:e.title,description:e.description,prize:e.prize,imgURL:e.imgURL,type:e.type,tags:e.tags.split(",")};this.dialogRef.close({data:o,event:"Add"}),this.resetFormValues()}resetFormValues(){this.contentForm.reset()}onCloseClick(){this.dialogRef.close({event:"Cancel"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(l.so))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-content-dialog"]],decls:59,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","disabled",""],["appearance","standard"],["matInput","","placeholder","Title","formControlName","title"],["titleInput",""],["matInput","","placeholder","Description","formControlName","description"],["descriptionInput",""],["matInput","","placeholder","Prize","formControlName","prize"],["prizeInput",""],["matInput","","placeholder","Image URL","formControlName","imgURL"],["imgURLInput",""],["appearance","fill","hintLabel","Type required"],["matNativeControl","","name","type","formControlName","type"],["value","small"],["value","medium"],["value","large"],["matInput","","placeholder","Tags","formControlName","tags"],["tagsInput",""],["mat-dialog-actions","","align","center"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1,"Add Book Content"),t.qZA(),t.TgZ(2,"div",1),t.TgZ(3,"form",2),t.NdJ("ngSubmit",function(){return o.addContent(o.contentForm.value)}),t.TgZ(4,"mat-form-field",3),t.TgZ(5,"mat-label"),t._uU(6,"Id"),t.qZA(),t._UZ(7,"input",4),t.qZA(),t.TgZ(8,"p"),t.TgZ(9,"mat-form-field",5),t.TgZ(10,"mat-label"),t._uU(11,"Title"),t.qZA(),t._UZ(12,"input",6,7),t.TgZ(14,"mat-error"),t._uU(15,"Title is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(16,"mat-form-field",5),t.TgZ(17,"mat-label"),t._uU(18,"Description"),t.qZA(),t._UZ(19,"input",8,9),t.TgZ(21,"mat-error"),t._uU(22,"Description is required"),t.qZA(),t.qZA(),t.TgZ(23,"mat-form-field",5),t.TgZ(24,"mat-label"),t._uU(25,"Prize"),t.qZA(),t._UZ(26,"input",10,11),t.TgZ(28,"mat-error"),t._uU(29,"Prize is required"),t.qZA(),t.qZA(),t.TgZ(30,"mat-form-field",5),t.TgZ(31,"mat-label"),t._uU(32,"Image URL"),t.qZA(),t._UZ(33,"input",12,13),t.TgZ(35,"mat-error"),t._uU(36,"Image URL is required"),t.qZA(),t.qZA(),t.TgZ(37,"mat-form-field",14),t.TgZ(38,"mat-label"),t._uU(39,"Type"),t.qZA(),t.TgZ(40,"mat-select",15),t.TgZ(41,"mat-option",16),t._uU(42,"Small"),t.qZA(),t.TgZ(43,"mat-option",17),t._uU(44,"Medium"),t.qZA(),t.TgZ(45,"mat-option",18),t._uU(46,"Large"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(47,"mat-form-field",5),t.TgZ(48,"mat-label"),t._uU(49,"Tags"),t.qZA(),t._UZ(50,"input",19,20),t.TgZ(52,"mat-error"),t._uU(53,"Tags is required"),t.qZA(),t.qZA(),t.TgZ(54,"div",21),t.TgZ(55,"button",22),t.NdJ("click",function(){return o.onCloseClick()}),t._uU(56,"Close"),t.qZA(),t.TgZ(57,"button",23),t._uU(58,"Submit"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Q6J("formGroup",o.contentForm),t.xp6(54),t.Q6J("disabled",!o.contentForm.valid))},directives:[l.uh,l.xY,i._Y,i.JL,i.sg,d.KE,d.hX,C.Nt,i.Fj,i.JJ,i.u,d.TO,Z.gD,v.ey,l.H8,p.lW],styles:["form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.mat-form-field[_ngcontent-%COMP%]{margin:5px}"]}),n})(),U=(()=>{class n{constructor(e,o,a){this.formBuilder=e,this.dialogRef=o,this.contentData=a,this.buildContentForm()}ngOnInit(){let e="";this.contentData.tags&&(e=this.contentData.tags.join(",")),this.contentForm.setValue({title:this.contentData.title,description:this.contentData.description,prize:this.contentData.prize,imgURL:this.contentData.imgURL,type:this.contentData.type,tags:e})}buildContentForm(){this.contentForm=this.formBuilder.group({title:["",i.kI.required],description:["",i.kI.required],prize:["",i.kI.required],imgURL:["",i.kI.required],type:["",i.kI.required],tags:["",i.kI.required]})}updateContent(e){let o={id:this.contentData.id,title:e.title,description:e.description,prize:e.prize,imgURL:e.imgURL,type:e.type,tags:e.tags.split(",")};this.dialogRef.close({data:o,event:"Update"}),this.resetFormValues()}resetFormValues(){this.contentForm.reset()}onCloseClick(){this.dialogRef.close({event:"Cancel"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(i.qu),t.Y36(l.so),t.Y36(l.WI))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-edit-content-dialog"]],decls:61,vars:5,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[3,"formGroup","ngSubmit"],["appearance","fill",1,"example-full-width"],["matInput","","disabled","","name","",3,"placeholder","value"],["appearance","standard"],["matInput","","placeholder","Title","formControlName","title"],["titleInput",""],["matInput","","placeholder","Description","formControlName","description"],["descriptionInput",""],["matInput","","placeholder","Prize","formControlName","prize"],["prizeInput",""],["matInput","","placeholder","Image URL","formControlName","imgURL"],["imgURLInput",""],["appearance","fill","hintLabel","Type required"],["matNativeControl","","name","type","formControlName","type"],["value","small"],["value","medium"],["value","large"],["matInput","","placeholder","Tags","formControlName","tags"],["tagsInput",""],["mat-dialog-actions","","align","center"],["mat-button","","type","button",3,"click"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(e,o){1&e&&(t.TgZ(0,"h1",0),t._uU(1," Update Content : "),t.TgZ(2,"span"),t._uU(3),t.qZA(),t.qZA(),t.TgZ(4,"div",1),t.TgZ(5,"form",2),t.NdJ("ngSubmit",function(){return o.updateContent(o.contentForm.value)}),t.TgZ(6,"mat-form-field",3),t.TgZ(7,"mat-label"),t._uU(8,"Id :"),t.qZA(),t._UZ(9,"input",4),t.qZA(),t.TgZ(10,"p"),t.TgZ(11,"mat-form-field",5),t.TgZ(12,"mat-label"),t._uU(13,"Title"),t.qZA(),t._UZ(14,"input",6,7),t.TgZ(16,"mat-error"),t._uU(17,"Title is required"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"mat-form-field",5),t.TgZ(19,"mat-label"),t._uU(20,"Description"),t.qZA(),t._UZ(21,"input",8,9),t.TgZ(23,"mat-error"),t._uU(24,"Description is required"),t.qZA(),t.qZA(),t.TgZ(25,"mat-form-field",5),t.TgZ(26,"mat-label"),t._uU(27,"Prize"),t.qZA(),t._UZ(28,"input",10,11),t.TgZ(30,"mat-error"),t._uU(31,"Prize is required"),t.qZA(),t.qZA(),t.TgZ(32,"mat-form-field",5),t.TgZ(33,"mat-label"),t._uU(34,"Image URL"),t.qZA(),t._UZ(35,"input",12,13),t.TgZ(37,"mat-error"),t._uU(38,"Image URL is required"),t.qZA(),t.qZA(),t.TgZ(39,"mat-form-field",14),t.TgZ(40,"mat-label"),t._uU(41,"Type"),t.qZA(),t.TgZ(42,"mat-select",15),t.TgZ(43,"mat-option",16),t._uU(44,"Small"),t.qZA(),t.TgZ(45,"mat-option",17),t._uU(46,"Medium"),t.qZA(),t.TgZ(47,"mat-option",18),t._uU(48,"Large"),t.qZA(),t.qZA(),t.qZA(),t.TgZ(49,"mat-form-field",5),t.TgZ(50,"mat-label"),t._uU(51,"Tags"),t.qZA(),t._UZ(52,"input",19,20),t.TgZ(54,"mat-error"),t._uU(55,"Tags is required"),t.qZA(),t.qZA(),t.TgZ(56,"div",21),t.TgZ(57,"button",22),t.NdJ("click",function(){return o.onCloseClick()}),t._uU(58,"Close"),t.qZA(),t.TgZ(59,"button",23),t._uU(60," Update "),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(3),t.Oqu(o.contentData.id),t.xp6(2),t.Q6J("formGroup",o.contentForm),t.xp6(4),t.s9C("placeholder",o.contentData.id),t.s9C("value",o.contentData.id),t.xp6(50),t.Q6J("disabled",!o.contentForm.valid))},directives:[l.uh,l.xY,i._Y,i.JL,i.sg,d.KE,d.hX,C.Nt,i.Fj,i.JJ,i.u,d.TO,Z.gD,v.ey,l.H8,p.lW],styles:["form[_ngcontent-%COMP%]{min-width:250px;max-width:500px;width:100%}.mat-form-field[_ngcontent-%COMP%]{margin:5px}"]}),n})();var b=s(505);function y(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"button",2),t.NdJ("click",function(){return t.CHM(e),t.oxw().addContent()}),t._uU(1," Add Content\n"),t.qZA()}}function I(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",3),t.TgZ(1,"button",4),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateContent()}),t._uU(2," Update Content "),t.qZA(),t.qZA()}}let q=(()=>{class n{constructor(e,o,a,m){this.contentService=e,this.messageService=o,this.inMemoryDataService=a,this.dialog=m,this.newContentEvent=new t.vpe,this.updatedContentEvent=new t.vpe}ngOnInit(){}addContentToDb(e){this.contentService.addContent(e).subscribe(o=>{this.messageService.add(`Content Item added by id:${o.id}`),this.newContentEvent.emit(o),this.addDialogRef&&(this.addDialogRef.close(),this.addDialogRef=null)})}updateContentToDb(e){this.contentService.updateContent(e).subscribe(()=>{this.messageService.add(`Content Item updated at id:${e.id}`),this.editDialogRef&&(this.editDialogRef.close(),this.editDialogRef=null),this.updatedContentEvent.emit(e)})}addContent(){this.addDialogRef=this.dialog.open(A),this.addDialogRef.afterClosed().subscribe(e=>{e&&e.event&&"Add"===e.event&&this.contentService.getContent().subscribe(o=>{let a=this.inMemoryDataService.genId(o);e.data.id=a,this.addContentToDb(e.data)})})}updateContent(){this.contentService.getContentDetails(this.contentId).subscribe(e=>{this.editDialogRef=this.dialog.open(U,{data:e}),this.editDialogRef.afterClosed().subscribe(o=>{o&&o.event&&"Update"===o.event&&this.updateContentToDb(o.data)})})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T._),t.Y36(_.e),t.Y36(b.p),t.Y36(l.uw))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-modify-content"]],inputs:{contentId:"contentId"},outputs:{newContentEvent:"newContentEvent",updatedContentEvent:"updatedContentEvent"},decls:2,vars:2,consts:[["mat-raised-button","","color","primary",3,"click",4,"ngIf"],["style","margin-top: 15px",4,"ngIf"],["mat-raised-button","","color","primary",3,"click"],[2,"margin-top","15px"],["mat-raised-button","","color","warn",3,"click"]],template:function(e,o){1&e&&(t.YNc(0,y,2,0,"button",0),t.YNc(1,I,3,0,"div",1)),2&e&&(t.Q6J("ngIf",!o.contentId),t.xp6(1),t.Q6J("ngIf",o.contentId))},directives:[u.O5,p.lW],styles:[".content-row[_ngcontent-%COMP%]{width:30rem;border:2px solid black;padding:25px;margin:10px auto}"]}),n})();var c=s(9224);function D(n,r){if(1&n&&(t.TgZ(0,"span",8),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.xp6(1),t.AsE(""," ","",e,"")}}function x(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",1),t.TgZ(1,"mat-card",2),t.TgZ(2,"mat-card-title"),t.TgZ(3,"p",3),t._uU(4),t.qZA(),t.qZA(),t.TgZ(5,"mat-card-subtitle"),t.TgZ(6,"p"),t.TgZ(7,"strong"),t._uU(8,"ID:"),t.qZA(),t._uU(9),t.qZA(),t.qZA(),t._UZ(10,"img",4),t.TgZ(11,"mat-card-content"),t.TgZ(12,"p"),t.TgZ(13,"strong"),t._uU(14,"PRIZE:"),t.qZA(),t._uU(15),t.qZA(),t.TgZ(16,"p"),t.TgZ(17,"strong"),t._uU(18,"SIZE:"),t.qZA(),t.YNc(19,D,2,2,"span",5),t.qZA(),t.TgZ(20,"button",6),t.NdJ("click",function(){return t.CHM(e),t.oxw().goToContentDetail()}),t._uU(21,"View Details"),t.qZA(),t.qZA(),t.TgZ(22,"mat-card-actions"),t.TgZ(23,"app-modify-content",7),t.NdJ("updatedContentEvent",function(a){return t.CHM(e),t.oxw().updateContent(a)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(e.content.title),t.xp6(5),t.hij(" ",e.content.id,""),t.xp6(1),t.s9C("src",e.content.imgURL?e.content.imgURL:"../../assets/img/default.jpg",t.LSH),t.xp6(5),t.hij(" ",e.content.prize,""),t.xp6(4),t.Q6J("ngForOf",null==e.content?null:e.content.tags),t.xp6(4),t.Q6J("contentId",e.content.id)}}let L=(()=>{class n{constructor(e){this.router=e,this.updatedContentEvent=new t.vpe}ngOnInit(){}updateContent(e){this.content=e,this.updatedContentEvent.emit(e)}goToContentDetail(){this.router.navigate(["/list/"+this.content.id])}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(g.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-content-card"]],inputs:{content:"content"},outputs:{updatedContentEvent:"updatedContentEvent"},decls:1,vars:1,consts:[["class","main-div",4,"ngIf"],[1,"main-div"],[1,"content-card"],["appHoverEffect",""],["mat-card-image","","width","150","height","150","alt","content-image",3,"src"],["appHoverEffect","","class","tag",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary","type","button",3,"click"],[3,"contentId","updatedContentEvent"],["appHoverEffect","",1,"tag"]],template:function(e,o){1&e&&t.YNc(0,x,24,6,"div",0),2&e&&t.Q6J("ngIf",o.content&&o.content.id)},directives:[u.O5,c.a8,c.n5,c.$j,c.G2,c.dn,u.sg,p.lW,c.hq,q],styles:[".content-card[_ngcontent-%COMP%]{max-width:300px;min-width:300px}.main-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}"]}),n})();function F(n,r){if(1&n&&(t.TgZ(0,"div"),t.TgZ(1,"div",10),t._UZ(2,"app-content-card",11),t.qZA(),t.qZA()),2&n){const e=r.$implicit,o=r.first,a=r.last;t.xp6(1),t.Tol(e.type),t.ekj("firstcard",o)("lastcard",a),t.xp6(1),t.Q6J("content",e)}}const R=[{path:"",component:(()=>{class n{constructor(e,o){this.contentService=e,this.messageService=o,this.sizeNotSelected="",this.small="small",this.medium="medium",this.large="large",this.contentSearched=!0,this.firstcard="firstcard",this.lastcard="lastcard",this.contentList=[],this.filteredData=[]}ngOnInit(){this.getContentList()}getContentList(){this.contentService.getContent().subscribe(e=>{this.contentList=e,this.filteredData=[...this.contentList]})}searchContent(e){if(e){let o=e;e=(e=e.replace(/^\s+|\s+$/g,"")).replace(/ +(?= )/g,""),e=new RegExp(e,"gi"),this.result=this.contentList.filter(a=>null!==a.title.match(e)),this.messageService.add(this.result.length&&this.result.length>0?`Content Items found with search text: ${o}`:"Content Item not found"),this.filteredData=[...this.contentList],this.filteredData=this.filteredData.filter(function(a){return a.title.match(e)?(a.type=a.type+" highlightSearch",a):(a.type=a.type.split(" ")[0],a)})}else this.messageService.add("Please Enter Content Title to Search")}getNewContact(e){this.getContentList()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(T._),t.Y36(_.e))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-content-list"]],decls:15,vars:1,consts:[[2,"text-align","center"],["appearance","standard",2,"padding-right","10px"],["matInput","","placeholder","search","name","search"],["inputValue",""],["mat-raised-button","","color","primary","type","button",2,"margin","25px",3,"click"],[3,"newContentEvent"],[2,"margin-top","50px"],[2,"color","blue","text-align","center"],[2,"display","flex","flex-wrap","wrap"],[4,"ngFor","ngForOf"],["appBorder",""],[3,"content"]],template:function(e,o){if(1&e){const a=t.EpF();t.TgZ(0,"div",0),t.TgZ(1,"form"),t.TgZ(2,"mat-form-field",1),t.TgZ(3,"mat-label"),t._uU(4,"Search"),t.qZA(),t._UZ(5,"input",2,3),t.qZA(),t.TgZ(7,"button",4),t.NdJ("click",function(){t.CHM(a);const f=t.MAs(6);return o.searchContent(f.value)}),t._uU(8," Search "),t.qZA(),t.qZA(),t.TgZ(9,"app-modify-content",5),t.NdJ("newContentEvent",function(f){return o.getNewContact(f)}),t.qZA(),t.qZA(),t.TgZ(10,"div",6),t.TgZ(11,"h1",7),t._uU(12,"LIST OF BOOKS:"),t.qZA(),t.qZA(),t.TgZ(13,"div",8),t.YNc(14,F,3,7,"div",9),t.qZA()}2&e&&(t.xp6(14),t.Q6J("ngForOf",o.filteredData))},directives:[i._Y,i.JL,i.F,d.KE,d.hX,C.Nt,p.lW,q,u.sg,L],styles:[".small[_ngcontent-%COMP%]{color:#7777e0;margin:4px;border:1px solid #7777e0}.medium[_ngcontent-%COMP%]{margin:4px;color:brown;border:1px solid brown}.large[_ngcontent-%COMP%]{margin:4px;color:green;border:1px solid green}.content[_ngcontent-%COMP%]{color:green}.noContent[_ngcontent-%COMP%]{color:red}.highlightSearch[_ngcontent-%COMP%]{border:4px solid blue}.tag[_ngcontent-%COMP%]{margin:10px;height:10px;width:10px}.shadow[_ngcontent-%COMP%]{box-shadow:#00000040 0 54px 55px,#0000001f 0 -12px 30px,#0000001f 0 4px 6px,#0000002b 0 12px 13px,#00000017 0 -3px 5px}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[g.Bz.forChild(R)],g.Bz]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[u.ez,g.Bz,i.u5,i.UX,M,l.Is,d.lN,C.c,Z.LD,p.ot,c.QW]]}),n})()}}]);